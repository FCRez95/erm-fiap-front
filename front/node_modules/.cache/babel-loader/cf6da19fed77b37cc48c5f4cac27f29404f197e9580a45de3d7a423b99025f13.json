{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { addClick } from '../../services';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateClickPage = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [newClick, setNewClick] = useState();\n  useEffect(() => {\n    searchParams.forEach(value => console.log(value));\n    setNewClick({\n      idSite: Number(searchParams.get('site_id')),\n      siteDomain: searchParams.get('site_domain'),\n      thumbnail: searchParams.get('thumbnail'),\n      title: searchParams.get('title'),\n      timeStamp: JSON.stringify(new Date()),\n      platform: searchParams.get('platform'),\n      idCampaing: Number(searchParams.get('campaing_id')),\n      nameCampaing: searchParams.get('campaing_name'),\n      token: searchParams.get('token')\n    });\n  }, [searchParams]);\n  useEffect(() => {\n    if (newClick) {\n      addClick(newClick).then(resp => {\n        console.log(resp);\n        const redirectUrl = resp.data.domain + `?clickToken=${resp.data.clickToken}`;\n        window.location.assign(redirectUrl);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [newClick]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(CreateClickPage, \"RTRYwPChiPNJtBfKnK37aETjWNY=\", false, function () {\n  return [useSearchParams];\n});\n_c = CreateClickPage;\nexport default CreateClickPage;\nvar _c;\n$RefreshReg$(_c, \"CreateClickPage\");","map":{"version":3,"names":["React","useEffect","useState","useSearchParams","addClick","CreateClickPage","searchParams","newClick","setNewClick","forEach","value","console","log","idSite","Number","get","siteDomain","thumbnail","title","timeStamp","JSON","stringify","Date","platform","idCampaing","nameCampaing","token","then","resp","redirectUrl","data","domain","clickToken","window","location","assign","catch","error"],"sources":["/Users/fabiorezende/Documents/FIAP/godigital/erm-fiap-front/front/src/pages/CreateClick/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport { addClick } from '../../services'\nimport { AddClickModel } from '../../models/add-click'\n\nconst CreateClickPage = () => {\n  const [searchParams] = useSearchParams()\n  const [newClick, setNewClick] = useState<AddClickModel>()\n\n  useEffect(() => {\n    searchParams.forEach(value => console.log(value))\n    setNewClick({\n      idSite: Number(searchParams.get('site_id')),\n      siteDomain: searchParams.get('site_domain'),\n      thumbnail: searchParams.get('thumbnail'),\n      title: searchParams.get('title'),\n      timeStamp: JSON.stringify(new Date()),\n      platform: searchParams.get('platform'),\n      idCampaing: Number(searchParams.get('campaing_id')),\n      nameCampaing: searchParams.get('campaing_name'),\n      token: searchParams.get('token')\n    })\n  }, [searchParams])\n\n  useEffect(() => {\n    if (newClick) {\n      addClick(newClick)\n      .then(resp => {\n        console.log(resp)\n        const redirectUrl = resp.data.domain + `?clickToken=${resp.data.clickToken}`\n        window.location.assign(redirectUrl)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n    }\n  }, [newClick])\n\n  return (\n    <>\n    </>\n  )\n}\n\nexport default CreateClickPage;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,eAAe,QAAQ,kBAAkB;AAClD,SAASC,QAAQ,QAAQ,gBAAgB;AAAA;AAAA;AAGzC,MAAMC,eAAe,GAAG,MAAM;EAAA;EAC5B,MAAM,CAACC,YAAY,CAAC,GAAGH,eAAe,EAAE;EACxC,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,EAAiB;EAEzDD,SAAS,CAAC,MAAM;IACdK,YAAY,CAACG,OAAO,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;IACjDF,WAAW,CAAC;MACVK,MAAM,EAAEC,MAAM,CAACR,YAAY,CAACS,GAAG,CAAC,SAAS,CAAC,CAAC;MAC3CC,UAAU,EAAEV,YAAY,CAACS,GAAG,CAAC,aAAa,CAAC;MAC3CE,SAAS,EAAEX,YAAY,CAACS,GAAG,CAAC,WAAW,CAAC;MACxCG,KAAK,EAAEZ,YAAY,CAACS,GAAG,CAAC,OAAO,CAAC;MAChCI,SAAS,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAIC,IAAI,EAAE,CAAC;MACrCC,QAAQ,EAAEjB,YAAY,CAACS,GAAG,CAAC,UAAU,CAAC;MACtCS,UAAU,EAAEV,MAAM,CAACR,YAAY,CAACS,GAAG,CAAC,aAAa,CAAC,CAAC;MACnDU,YAAY,EAAEnB,YAAY,CAACS,GAAG,CAAC,eAAe,CAAC;MAC/CW,KAAK,EAAEpB,YAAY,CAACS,GAAG,CAAC,OAAO;IACjC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACT,YAAY,CAAC,CAAC;EAElBL,SAAS,CAAC,MAAM;IACd,IAAIM,QAAQ,EAAE;MACZH,QAAQ,CAACG,QAAQ,CAAC,CACjBoB,IAAI,CAACC,IAAI,IAAI;QACZjB,OAAO,CAACC,GAAG,CAACgB,IAAI,CAAC;QACjB,MAAMC,WAAW,GAAGD,IAAI,CAACE,IAAI,CAACC,MAAM,GAAI,eAAcH,IAAI,CAACE,IAAI,CAACE,UAAW,EAAC;QAC5EC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACN,WAAW,CAAC;MACrC,CAAC,CAAC,CACDO,KAAK,CAACC,KAAK,IAAI;QACd1B,OAAO,CAACC,GAAG,CAACyB,KAAK,CAAC;MACpB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAC9B,QAAQ,CAAC,CAAC;EAEd,oBACE,qCACG;AAEP,CAAC;AAAA,GArCKF,eAAe;EAAA,QACIF,eAAe;AAAA;AAAA,KADlCE,eAAe;AAuCrB,eAAeA,eAAe;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}