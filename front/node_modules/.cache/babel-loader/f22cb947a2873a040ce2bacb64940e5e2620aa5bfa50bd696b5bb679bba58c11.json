{"ast":null,"code":"var _jsxFileName = \"/Users/fabiorezende/Documents/FIAP/godigital/fiap-class/frontend/src/pages/Campaing/ClicksTab/index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport FunilCards from '../../../components/CampaingElements/Funil/FunilCards';\nimport FunilLine from '../../../components/CampaingElements/Funil/FunilLine';\nimport { Container, TabHeader, FiltersContainer, SearchBar } from './styles';\nimport Loading from '../../../components/Loading';\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker';\nimport dayjs from 'dayjs';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport ClicksTable from '../../../components/CampaingElements/ClicksTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ClicksTab = _ref => {\n  _s();\n  let {\n    user,\n    campaingData\n  } = _ref;\n  const [showClicks, setShowClicks] = useState(campaingData.clicks);\n  const [filteredSummary, setFilteredSummary] = useState();\n  const [dateValue, setDateValue] = useState([dayjs(), dayjs()]);\n  useEffect(() => {\n    if (user) {\n      let summary = {\n        id: campaingData.campaing.id,\n        idUser: user[0].id,\n        name: campaingData.campaing.name,\n        income: 0,\n        totalClicks: showClicks.length,\n        totalPaidClicks: 0\n      };\n      showClicks.forEach(click => {\n        summary.income += click.value;\n        summary.totalPaidClicks += click.value > 0 ? 1 : 0;\n      });\n      setFilteredSummary(summary);\n    }\n  }, [showClicks, campaingData, user]);\n  const theme = createTheme({\n    components: {\n      MuiInputBase: {\n        styleOverrides: {\n          input: {\n            padding: '5px 10px !important'\n          },\n          root: {\n            borderRadius: '10px !important'\n          }\n        }\n      },\n      MuiStack: {\n        styleOverrides: {\n          root: {\n            margin: '10px 0px'\n          }\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(TabHeader, {\n      children: [/*#__PURE__*/_jsxDEV(FiltersContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ThemeProvider, {\n          theme: theme,\n          children: /*#__PURE__*/_jsxDEV(DateRangePicker, {\n            value: dateValue,\n            onChange: newDateValue => setDateValue(newDateValue)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n          placeholder: \"Digite o termo que deseja buscar...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), filteredSummary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(FunilCards, {\n          campaingSummary: filteredSummary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FunilLine, {\n          campaingSummary: filteredSummary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ClicksTable, {\n      clicks: showClicks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(ClicksTab, \"j6MwoapS0zV9W1OrqZi+nkX5mJM=\");\n_c = ClicksTab;\nexport default ClicksTab;\nvar _c;\n$RefreshReg$(_c, \"ClicksTab\");","map":{"version":3,"names":["useEffect","useState","FunilCards","FunilLine","Container","TabHeader","FiltersContainer","SearchBar","Loading","DateRangePicker","dayjs","ThemeProvider","createTheme","ClicksTable","ClicksTab","user","campaingData","showClicks","setShowClicks","clicks","filteredSummary","setFilteredSummary","dateValue","setDateValue","summary","id","campaing","idUser","name","income","totalClicks","length","totalPaidClicks","forEach","click","value","theme","components","MuiInputBase","styleOverrides","input","padding","root","borderRadius","MuiStack","margin","newDateValue"],"sources":["/Users/fabiorezende/Documents/FIAP/godigital/fiap-class/frontend/src/pages/Campaing/ClicksTab/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport FunilCards from '../../../components/CampaingElements/Funil/FunilCards'\nimport FunilLine from '../../../components/CampaingElements/Funil/FunilLine'\nimport ClickModel from '../../../models/click'\nimport { User } from '../../../models/user'\nimport { Container, TabHeader, FiltersContainer, SearchBar } from './styles'\nimport { CampaingSummaryModel } from '../../../models/campaing-summary'\nimport Loading from '../../../components/Loading'\nimport { CampaingDataModel } from '../../../models/campaing-data'\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker'\nimport { DateRange } from '@mui/x-date-pickers-pro';\nimport dayjs, { Dayjs } from 'dayjs'\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport ClicksTable from '../../../components/CampaingElements/ClicksTable'\n\n\ninterface Props {\n  user?: User []\n  campaingData: CampaingDataModel\n}\n\nconst ClicksTab = ({ user, campaingData }: Props) => {\n  const [showClicks, setShowClicks] = useState<ClickModel[]>(campaingData.clicks)\n  const [filteredSummary, setFilteredSummary] = useState<CampaingSummaryModel>()\n  const [dateValue, setDateValue] = useState<DateRange<Dayjs>>([\n    dayjs(),\n    dayjs()\n  ])\n\n  useEffect(() => {\n    if (user) {\n      let summary: CampaingSummaryModel = {\n        id: campaingData.campaing.id,\n        idUser: user[0].id,\n        name: campaingData.campaing.name,\n        income: 0,\n        totalClicks: showClicks.length,\n        totalPaidClicks: 0\n      }\n\n      showClicks.forEach(click => {\n        summary.income += click.value\n        summary.totalPaidClicks += click.value > 0? 1 : 0\n      })\n\n      setFilteredSummary(summary)\n    }\n    \n  }, [showClicks, campaingData, user])\n\n  const theme = createTheme({\n    components: {\n      MuiInputBase: {\n        styleOverrides: {\n          input: {\n            padding: '5px 10px !important',\n          },\n          root: {\n            borderRadius: '10px !important'\n          }\n        }\n      },\n      MuiStack: {\n        styleOverrides: {\n          root: {\n            margin: '10px 0px'\n          }\n        }\n      }\n    }\n  })\n\n  return (\n    <Container>\n      <TabHeader>\n        <FiltersContainer>\n          <ThemeProvider theme={theme}>\n            <DateRangePicker\n              value={dateValue}\n              onChange={(newDateValue) => setDateValue(newDateValue)}\n            />\n          </ThemeProvider>\n\n          <SearchBar placeholder='Digite o termo que deseja buscar...'/>\n        </FiltersContainer>\n \n       {filteredSummary? (\n        <>\n          <FunilCards campaingSummary={filteredSummary} />\n          <FunilLine campaingSummary={filteredSummary} />\n        </>\n       ) : (\n        <Loading />\n       )}\n      </TabHeader>\n\n      <ClicksTable clicks={showClicks} />\n      \n    </Container>\n  )\n}\n\nexport default ClicksTab"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}