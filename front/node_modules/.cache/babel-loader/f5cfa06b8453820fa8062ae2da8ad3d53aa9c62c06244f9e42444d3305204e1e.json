{"ast":null,"code":"var _jsxFileName = \"/Users/fabiorezende/Documents/projects/tracker/tracker-frontend/src/pages/Campaing/ClicksTab/index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport FunilCards from '../../../components/CampaingElements/Funil/FunilCards';\nimport FunilLine from '../../../components/CampaingElements/Funil/FunilLine';\nimport { Container, TabHeader, FiltersContainer, SearchBar } from './styles';\nimport Loading from '../../../components/Loading';\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker';\nimport dayjs from 'dayjs';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ClicksTab = _ref => {\n  _s();\n  let {\n    user,\n    campaingData\n  } = _ref;\n  const [showClicks, setShowClicks] = useState(campaingData.clicks);\n  const [filteredSummary, setFilteredSummary] = useState();\n  const [dateValue, setDateValue] = useState([dayjs(), dayjs()]);\n  useEffect(() => {\n    if (user) {\n      let summary = {\n        id: campaingData.campaing.id,\n        idUser: user[0].id,\n        name: campaingData.campaing.name,\n        income: 0,\n        totalClicks: showClicks.length,\n        totalProductPage: 0,\n        totalCheckoutPage: 0,\n        totalPaidClicks: 0\n      };\n      showClicks.forEach(click => {\n        summary.income += click.value;\n        summary.totalProductPage += click.viewedProductPage ? 1 : 0;\n        summary.totalCheckoutPage += click.viewedCheckoutPage ? 1 : 0;\n        summary.totalPaidClicks += click.value > 0 ? 1 : 0;\n      });\n      setFilteredSummary(summary);\n    }\n  }, [showClicks, campaingData, user]);\n  const theme = createTheme({\n    components: {\n      MuiInputBase: {\n        styleOverrides: {\n          input: {\n            padding: '5px 10px !important'\n          }\n        }\n      },\n      MuiStack: {\n        styleOverrides: {\n          root: {\n            margin: '10px 0px'\n          }\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(TabHeader, {\n      children: [/*#__PURE__*/_jsxDEV(FiltersContainer, {\n        children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n          placeholder: \"Digite o termo que deseja buscar...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ThemeProvider, {\n          theme: theme,\n          children: /*#__PURE__*/_jsxDEV(DateRangePicker, {\n            value: dateValue,\n            onChange: newDateValue => setDateValue(newDateValue)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), filteredSummary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(FunilCards, {\n          campaingSummary: filteredSummary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FunilLine, {\n          campaingSummary: filteredSummary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(ClicksTab, \"j6MwoapS0zV9W1OrqZi+nkX5mJM=\");\n_c = ClicksTab;\nexport default ClicksTab;\nvar _c;\n$RefreshReg$(_c, \"ClicksTab\");","map":{"version":3,"names":["useEffect","useState","FunilCards","FunilLine","Container","TabHeader","FiltersContainer","SearchBar","Loading","DateRangePicker","dayjs","ThemeProvider","createTheme","ClicksTab","user","campaingData","showClicks","setShowClicks","clicks","filteredSummary","setFilteredSummary","dateValue","setDateValue","summary","id","campaing","idUser","name","income","totalClicks","length","totalProductPage","totalCheckoutPage","totalPaidClicks","forEach","click","value","viewedProductPage","viewedCheckoutPage","theme","components","MuiInputBase","styleOverrides","input","padding","MuiStack","root","margin","newDateValue"],"sources":["/Users/fabiorezende/Documents/projects/tracker/tracker-frontend/src/pages/Campaing/ClicksTab/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport FunilCards from '../../../components/CampaingElements/Funil/FunilCards'\nimport FunilLine from '../../../components/CampaingElements/Funil/FunilLine'\nimport ClickModel from '../../../models/click'\nimport { User } from '../../../models/user'\nimport { Container, TabHeader, FiltersContainer, SearchBar } from './styles'\nimport { CampaingSummaryModel } from '../../../models/campaing-summary'\nimport Loading from '../../../components/Loading'\nimport { CampaingDataModel } from '../../../models/campaing-data'\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker'\nimport { DateRange } from '@mui/x-date-pickers-pro';\nimport dayjs, { Dayjs } from 'dayjs'\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\n\ninterface Props {\n  user?: User []\n  campaingData: CampaingDataModel\n}\n\nconst ClicksTab = ({ user, campaingData }: Props) => {\n  const [showClicks, setShowClicks] = useState<ClickModel[]>(campaingData.clicks)\n  const [filteredSummary, setFilteredSummary] = useState<CampaingSummaryModel>()\n  const [dateValue, setDateValue] = useState<DateRange<Dayjs>>([\n    dayjs(),\n    dayjs()\n  ])\n\n  useEffect(() => {\n    if (user) {\n      let summary: CampaingSummaryModel = {\n        id: campaingData.campaing.id,\n        idUser: user[0].id,\n        name: campaingData.campaing.name,\n        income: 0,\n        totalClicks: showClicks.length,\n        totalProductPage: 0,\n        totalCheckoutPage: 0, \n        totalPaidClicks: 0\n      }\n\n      showClicks.forEach(click => {\n        summary.income += click.value\n        summary.totalProductPage += click.viewedProductPage? 1 : 0\n        summary.totalCheckoutPage += click.viewedCheckoutPage? 1 : 0 \n        summary.totalPaidClicks += click.value > 0? 1 : 0\n      })\n\n      setFilteredSummary(summary)\n    }\n    \n  }, [showClicks, campaingData, user])\n\n  const theme = createTheme({\n    components: {\n      MuiInputBase: {\n        styleOverrides: {\n          input: {\n            padding: '5px 10px !important',\n          },\n          \n        }\n      },\n      MuiStack: {\n        styleOverrides: {\n          root: {\n            margin: '10px 0px'\n          }\n        }\n      }\n    }\n  })\n\n  return (\n    <Container>\n      <TabHeader>\n        <FiltersContainer>\n          <SearchBar placeholder='Digite o termo que deseja buscar...'/>\n\n          <ThemeProvider theme={theme}>\n            <DateRangePicker\n              value={dateValue}\n              onChange={(newDateValue) => setDateValue(newDateValue)}\n            />\n          </ThemeProvider>\n        </FiltersContainer>\n \n       {filteredSummary? (\n        <>\n          <FunilCards campaingSummary={filteredSummary} />\n          <FunilLine campaingSummary={filteredSummary} />\n        </>\n       ) : (\n        <Loading />\n       )}\n      </TabHeader>\n      \n    </Container>\n  )\n}\n\nexport default ClicksTab"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}